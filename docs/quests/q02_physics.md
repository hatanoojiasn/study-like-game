# Quest 02: AABB 衝突と決定性

## 目的（Objective）
- AABB 衝突・境界反射などの物理らしさを追加しつつ、同一入力で同一結果を再現する決定性を守る。

## ルール（Rules）
- 公開 API の追加・変更は禁止。
- 乱数を使う場合は固定シード管理を内部に閉じる。
- 浮動小数の非決定性影響を意識し、固定小数点化も検討する。

## 制約（Constraints）
- 固定 `dt` 実行と可変 `dt` 実行で差分が把握できるようにする。
- 壁・障害物との衝突は AABB ベース。

## 受け入れ条件（Definition of Done）
- 同じ入力列を 2 回流すと位置・速度ログが一致する。
- 固定 `dt=16ms` で 1000 ステップ実行しても発散しない。
- 境界反射（または停止）の仕様が明文化され、実測ログで確認できる。

## 実装ヒント
- 衝突判定と応答を分離して可読性を上げる。
- 「めり込み補正」を 1 箇所に集約する。
- 物理パラメータ（速度上限、反発係数）は内部定数で管理。

## テスト計画（最低限）
1. AABB ユニットテスト
2. 固定入力リプレイテスト（決定性確認）
3. 境界衝突シナリオの回帰テスト
